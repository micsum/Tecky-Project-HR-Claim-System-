<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>Department ID: <span id="departmentId"></span></p>
    <p>Department Name: <span id="departmentName"></span></p>
    <p>Employee ID: <span id="employeeId"></span></p>
    <p>Employee Name: <span id="employeeName"></span></p>
    <p>Email: <span id="email"></span></p>
    <p>Role: <span id="role"></span></p>
    <p>Phone Number: <span id="phoneNumber"></span></p>

</body>
<script>
let employeeDbId;
  let departmentDbId;
//load info from db into employee table
 window.addEventListener("load", async()=>{ 
    const res = await fetch ("getProfile", {
        method:"GET",
        headers:{"Content-Type": "application/json"},
      });
      const employeeList = await res.json()
      console.log(employeeList) //check the employee list
      const departmentId = document.querySelector("#departmentId");
     const departmentName = document.querySelector("#departmentName");
     const employeeId = document.querySelector("#employeeId");
     const employeeName = document.querySelector("#employeeName");
     const email = document.querySelector("#email");
     const phoneNumber = document.querySelector("#phoneNumber");
     const role = document.querySelector("#role");
     departmentId.textContent= employeeList.department_id
     departmentName.textContent=employeeList.department_name
     employeeId.textContent=employeeList.id
     employeeName.textContent=employeeList.name
     email.textContent=employeeList.email
     phoneNumber.textContent=employeeList.phone_number
     role.textContent = employeeList.role
     employeeDbId = employeeList.id
     departmentDbId = employeeList.department_id
    }
  )
</script>
</html>